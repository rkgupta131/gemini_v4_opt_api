{
	"info": {
		"name": "Webpage Builder AI API - Contract-Compliant Streaming",
		"description": "Unified streaming API supporting Gemini, GPT, and Claude model families. All events follow Phase 1 LLM Streaming Contract format with Universal Event Envelope structure.\n\nStreaming is optimized for real-time event delivery with proper event loop yielding for immediate flushing.\n\n**Note on Postman SSE Streaming:**\nPostman buffers Server-Sent Events (SSE) and may display all events at once when the connection closes. This is a known Postman limitation. For real-time streaming, use:\n- Browser with EventSource API\n- curl with --no-buffer flag\n- Proper SSE client library\n\nThe API streams events in real-time; Postman just buffers them for display.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_postman_id": "webpage-builder-api-v1-contract",
		"version": {
			"major": 2,
			"minor": 7
		}
	},
	"item": [
		{
			"name": "Streaming Endpoints",
			"description": "All streaming endpoints support model_family parameter (gemini, gpt, claude) and return events in Phase 1 LLM Streaming Contract format.\n\nAction is inferred from payload:\n- `user_input` only → classify intent\n- `user_input` + `page_type_key`/`questionnaire_answers` → generate project\n- `instruction` → modify project\n- `page_type_key`/`questionnaire_answers` only → generate project (follow-up)\n\nSession ID is optional and auto-generated if not provided.",
			"item": [
				{
					"name": "Classify Intent - Gemini",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gemini\",\n  \"user_input\": \"I want to build an e-commerce website\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Classify user intent using Gemini. Returns contract-compliant events:\n- `chat.message` - Status messages\n- `thinking.start` / `thinking.end` - Thinking indicators\n- `chat.message` - Intent result\n- `chat.question` - Questions if questionnaire needed or page type selection if generic\n- `stream.complete` / `stream.await_input` - Terminal events"
					},
					"response": []
				},
				{
					"name": "Classify Intent - GPT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gpt\",\n  \"user_input\": \"I want to build an e-commerce website\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Classify user intent using GPT. Returns contract-compliant events."
					},
					"response": []
				},
				{
					"name": "Classify Intent - Claude",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"claude\",\n  \"user_input\": \"I want to build an e-commerce website\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Classify user intent using Claude. Returns contract-compliant events."
					},
					"response": []
				},
				{
					"name": "Chat - Gemini",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gemini\",\n  \"user_input\": \"What is React and how does it work?\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Chat with AI using Gemini. Returns:\n- `chat.message` - Initial message\n- `thinking.start` - Thinking indicator\n- `edit.start` - Streaming response chunks (multiple)\n- `edit.end` - Edit complete with duration (per contract)\n- `thinking.end` - Thinking complete\n- `chat.message` - Final complete response\n- `stream.complete` - Stream finished\n\n**Contract Compliance:**\n- `edit.start` events emitted multiple times with content chunks\n- `edit.end` event emitted once after streaming completes with `duration_ms`"
					},
					"response": []
				},
				{
					"name": "Chat - GPT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gpt\",\n  \"user_input\": \"What is React and how does it work?\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Chat with AI using GPT. Returns contract-compliant streaming events."
					},
					"response": []
				},
				{
					"name": "Chat - Claude",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"claude\",\n  \"user_input\": \"What is React and how does it work?\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Chat with AI using Claude. Returns contract-compliant streaming events."
					},
					"response": []
				},
				{
					"name": "Generate Project - First Request (Gemini)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gemini\",\n  \"user_input\": \"I want to build an e-commerce website\",\n  \"project_id\": \"proj_123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "First request to generate project. Action is inferred from payload (user_input = generate_project).\n\nPayload: Only requires `user_input`, `model_family`, and optional `project_id`.\n\nSystem will:\n1. Classify intent\n2. Classify page type\n3. Ask questions if needed (via chat.question events)\n4. Wait for user input (stream.await_input)\n\nReturns:\n- `chat.message` - Status messages\n- `thinking.start` / `thinking.end` - Thinking indicators\n- `chat.question` - Questions if questionnaire needed or page type selection if generic\n- `stream.await_input` - Waiting for user response"
					},
					"response": []
				},
				{
					"name": "Generate Project - Follow-up (Gemini)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gemini\",\n  \"page_type_key\": \"ecommerce\",\n  \"questionnaire_answers\": {\n    \"target_audience\": \"young_adults\",\n    \"product_categories\": [\n      \"electronics\",\n      \"clothing\"\n    ],\n    \"payment_methods\": \"credit_card\"\n  },\n  \"wizard_inputs\": {\n    \"hero_text\": \"Welcome to our store\",\n    \"subtext\": \"Best products at best prices\",\n    \"cta\": \"Shop Now\",\n    \"theme\": \"Light\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Follow-up request after questions answered. Action is inferred from payload (page_type_key/questionnaire_answers = generate_project).\n\nPayload: Requires `page_type_key`, `questionnaire_answers`, and `wizard_inputs`.\n\nReturns:\n- `chat.message` - Status messages\n- `progress.init` - Progress initialization\n- `progress.update` - Step updates\n- `thinking.start` / `thinking.end` - Thinking indicators\n- `edit.start` - Streaming generation chunks (multiple)\n- `edit.end` - Edit complete with duration (per contract)\n- `fs.write` - File writes (single source of truth)\n- `stream.complete` - Generation finished\n\n**Contract Compliance:**\n- `edit.start` events emitted multiple times with content chunks\n- `edit.end` event emitted once after streaming completes with `duration_ms`"
					},
					"response": []
				},
				{
					"name": "Generate Project - First Request (GPT)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gpt\",\n  \"user_input\": \"I want to build an e-commerce website\",\n  \"project_id\": \"proj_123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "First request to generate project using GPT. Action is inferred from payload (user_input = generate_project).\n\nPayload: Only requires `user_input`, `model_family`, and optional `project_id`.\n\nNote: `session_id` is optional and auto-generated if not provided.\n\nSystem will:\n1. Classify intent\n2. Classify page type\n3. Ask questions if needed (via chat.question events)\n4. Wait for user input (stream.await_input)\n\nReturns:\n- `chat.message` - Status messages\n- `thinking.start` / `thinking.end` - Thinking indicators\n- `chat.question` - Questions if questionnaire needed or page type selection if generic\n- `stream.await_input` - Waiting for user response"
					},
					"response": []
				},
				{
					"name": "Generate Project - First Request (Claude)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"claude\",\n  \"user_input\": \"I want to build an e-commerce website\",\n  \"project_id\": \"proj_123\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "First request to generate project using Claude. Action is inferred from payload (user_input = generate_project).\n\nPayload: Only requires `user_input`, `model_family`, and optional `project_id`.\n\nNote: `session_id` is optional and auto-generated if not provided.\n\nSystem will:\n1. Classify intent\n2. Classify page type\n3. Ask questions if needed (via chat.question events)\n4. Wait for user input (stream.await_input)\n\nReturns:\n- `chat.message` - Status messages\n- `thinking.start` / `thinking.end` - Thinking indicators\n- `chat.question` - Questions if questionnaire needed or page type selection if generic\n- `stream.await_input` - Waiting for user response"
					},
					"response": []
				},
				{
					"name": "Generate Project (With Questionnaire) - Gemini",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gemini\",\n  \"page_type_key\": \"ecommerce\",\n  \"questionnaire_answers\": {\n    \"target_audience\": \"young_adults\",\n    \"product_categories\": [\n      \"electronics\",\n      \"clothing\"\n    ],\n    \"payment_methods\": \"credit_card\"\n  },\n  \"wizard_inputs\": {\n    \"hero_text\": \"Welcome to our store\",\n    \"subtext\": \"Best products at best prices\",\n    \"cta\": \"Shop Now\",\n    \"theme\": \"Dark\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Generate a project using Gemini with questionnaire answers. Action is inferred from payload (page_type_key/questionnaire_answers = generate_project).\n\nPayload: Requires `page_type_key`, `questionnaire_answers`, and `wizard_inputs`.\n\nUse this after answering questions from the first request.\n\nReturns:\n- `chat.message` - Status messages\n- `progress.init` - Progress initialization\n- `progress.update` - Step updates\n- `thinking.start` / `thinking.end` - Thinking indicators\n- `edit.start` - Streaming generation chunks (multiple)\n- `edit.end` - Edit complete with duration (per contract)\n- `fs.write` - File writes (single source of truth)\n- `stream.complete` - Generation finished\n\n**Contract Compliance:**\n- `edit.start` events emitted multiple times with content chunks\n- `edit.end` event emitted once after streaming completes with `duration_ms`"
					},
					"response": []
				},
				{
					"name": "Generate Project (With Questionnaire) - GPT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gpt\",\n  \"page_type_key\": \"ecommerce\",\n  \"questionnaire_answers\": {\n    \"target_audience\": \"young_adults\",\n    \"product_categories\": [\n      \"electronics\",\n      \"clothing\"\n    ],\n    \"payment_methods\": \"credit_card\"\n  },\n  \"wizard_inputs\": {\n    \"hero_text\": \"Welcome to our store\",\n    \"subtext\": \"Best products at best prices\",\n    \"cta\": \"Shop Now\",\n    \"theme\": \"Dark\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Generate a project using GPT with questionnaire answers. Action is inferred from payload (page_type_key/questionnaire_answers = generate_project).\n\nPayload: Requires `page_type_key`, `questionnaire_answers`, and `wizard_inputs`.\n\nUse this after answering questions from the first request.\n\nReturns:\n- `chat.message` - Status messages\n- `progress.init` - Progress initialization\n- `progress.update` - Step updates\n- `thinking.start` / `thinking.end` - Thinking indicators\n- `edit.start` - Streaming generation chunks (multiple)\n- `edit.end` - Edit complete with duration (per contract)\n- `fs.write` - File writes (single source of truth)\n- `stream.complete` - Generation finished\n\n**Contract Compliance:**\n- `edit.start` events emitted multiple times with content chunks\n- `edit.end` event emitted once after streaming completes with `duration_ms`"
					},
					"response": []
				},
				{
					"name": "Generate Project (With Questionnaire) - Claude",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"claude\",\n  \"page_type_key\": \"ecommerce\",\n  \"questionnaire_answers\": {\n    \"target_audience\": \"young_adults\",\n    \"product_categories\": [\n      \"electronics\",\n      \"clothing\"\n    ],\n    \"payment_methods\": \"credit_card\"\n  },\n  \"wizard_inputs\": {\n    \"hero_text\": \"Welcome to our store\",\n    \"subtext\": \"Best products at best prices\",\n    \"cta\": \"Shop Now\",\n    \"theme\": \"Dark\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Generate a project using Claude with questionnaire answers. Action is inferred from payload (page_type_key/questionnaire_answers = generate_project).\n\nPayload: Requires `page_type_key`, `questionnaire_answers`, and `wizard_inputs`.\n\nUse this after answering questions from the first request.\n\nReturns:\n- `chat.message` - Status messages\n- `progress.init` - Progress initialization\n- `progress.update` - Step updates\n- `thinking.start` / `thinking.end` - Thinking indicators\n- `edit.start` - Streaming generation chunks (multiple)\n- `edit.end` - Edit complete with duration (per contract)\n- `fs.write` - File writes (single source of truth)\n- `stream.complete` - Generation finished\n\n**Contract Compliance:**\n- `edit.start` events emitted multiple times with content chunks\n- `edit.end` event emitted once after streaming completes with `duration_ms`"
					},
					"response": []
				},
				{
					"name": "Modify Project - Gemini",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gemini\",\n  \"instruction\": \"Change the theme to dark mode and add a footer with social media links\",\n  \"base_project_path\": \"output/project.json\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Modify an existing project using Gemini. Action is inferred from payload (instruction = modify_project).\n\nPayload: Requires `instruction` and optional `base_project_path`.\n\nReturns:\n- `chat.message` - Status messages\n- `thinking.start` / `thinking.end` - Thinking indicators\n- `edit.start` - Streaming modification chunks (multiple)\n- `edit.end` - Edit complete with duration (per contract)\n- `fs.write` - Modified file writes\n- `stream.complete` - Modification finished\n\n**Contract Compliance:**\n- `edit.start` events emitted multiple times with content chunks\n- `edit.end` event emitted once after streaming completes with `duration_ms`"
					},
					"response": []
				},
				{
					"name": "Modify Project - GPT",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"gpt\",\n  \"instruction\": \"Change the theme to dark mode and add a footer with social media links\",\n  \"base_project_path\": \"output/project.json\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Modify an existing project using GPT. Returns contract-compliant streaming events."
					},
					"response": []
				},
				{
					"name": "Modify Project - Claude",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"model_family\": \"claude\",\n  \"instruction\": \"Change the theme to dark mode and add a footer with social media links\",\n  \"base_project_path\": \"output/project.json\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream"
							]
						},
						"description": "Modify an existing project using Claude. Returns contract-compliant streaming events."
					},
					"response": []
				},
				{
					"name": "Post Message - Process Question Answers",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"project_id\": \"0ba08159-038b-44ea-b7d4-299e0644ba39\",\n  \"chat_id\": \"801c8dd2-f762-4314-918c-c0a226ff9a29\",\n  \"responses\": [\n    {\n      \"q_id\": \"q_a1b2\",\n      \"q_type\": \"mcq\",\n      \"content\": {\n        \"label\": \"Who is your target audience?\",\n        \"selectedOption\": \"young_adults\"\n      },\n      \"skipped\": false\n    },\n    {\n      \"q_id\": \"q_c3d4\",\n      \"q_type\": \"multi_select\",\n      \"content\": {\n        \"label\": \"What product categories do you want?\",\n        \"selectedOptions\": [\"electronics\", \"clothing\"]\n      },\n      \"skipped\": false\n    }\n  ],\n  \"user_input\": \"Make it modern and sleek\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream/message/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream",
								"message",
								""
							]
						},
						"description": "Process user answers to LLM questions and automatically stream LLM-generated project via SSE.\n\n**Key Features:**\n- All responses are converted into a user prompt using question labels and selected options\n- Responses are combined with user_input into a single prompt for LLM continuation\n- Question IDs use 4-digit UUID format (q_xxxx) for scalability\n- Verbose logging in terminal shows all processing steps\n- **Automatically streams LLM response** - no need for separate `/api/v1/stream` call\n- Follows Phase1 LLM Streaming Contract with proper event types\n\n**This endpoint:**\n1. Validates the request payload\n2. Loads conversation context using chat_id\n3. Processes all question responses and builds user prompt\n4. Maps selectedOptions IDs to labels using stored question options\n5. Builds system prompt with React/TypeScript requirements, page type, and questionnaire context\n6. Combines system prompt + user prompt\n7. **Streams LLM response directly** with SSE events (progress, thinking, edit.start, fs.write, stream.complete)\n\n**Payload Structure:**\n- `project_id` (required): Project identifier\n- `chat_id` (required): Chat/conversation identifier (used to load context)\n- `responses` (required): Array of question responses\n  - `q_id`: Question ID from chat.question event (format: q_xxxx - 4-digit UUID)\n  - `q_type`: \"open_ended\" | \"mcq\" | \"multi_select\" | \"form\"\n  - `content`: Response content (varies by type)\n    - `label`: Question label from chat.question event\n    - `answer`: For open_ended\n    - `selectedOption`: For mcq\n    - `selectedOptions`: For multi_select (array of option IDs)\n    - `answers`: For form (array of {label, answer})\n  - `skipped`: Whether user skipped this question\n- `user_input` (optional): Additional text input from chat textarea\n\n**Response Processing:**\n- All responses are converted to natural language prompt format:\n  - `open_ended`: \"Question: Answer\"\n  - `mcq`: \"Question: Selected Option\"\n  - `multi_select`: \"Question: Option1, Option2\" (IDs mapped to labels)\n  - `form`: \"Question: Field1: Answer1, Field2: Answer2\"\n- Combined prompt stored in `session[\"user_input_from_message\"]`\n\n**Important Notes:**\n- There is ALWAYS only ONE open_ended question (never multiple)\n- open_ended questions NEVER come with other questions (always alone)\n- For open_ended questions: ChatInput text → `responses[0].content.answer` (no `user_input`)\n- If open_ended is skipped: ChatInput text → `user_input`\n- If no open_ended: ChatInput text → `user_input`\n- Question options are stored in session when emitted, enabling ID-to-label mapping\n\n**Response:**\n- **200 OK: Server-Sent Events (SSE) stream** with events:\n  - `progress.init` - Progress initialization\n  - `progress.update` - Progress step updates\n  - `thinking.start` / `thinking.end` - Thinking indicators\n  - `chat.message` - Status messages\n  - `edit.start` - Streaming LLM chunks (project generation, multiple)\n  - `edit.end` - Edit complete with duration (per contract)\n  - `fs.write` - File writes (single source of truth for code)\n  - `stream.complete` - Stream finished (terminal event)\n- 400 Bad Request: Validation errors\n- 500 Internal Server Error: Processing errors\n\n**Contract Compliance:**\n- Follows Phase1 LLM Streaming Contract (EVENT_CONTRACT.md)\n- All events use Universal Event Envelope format\n- `edit.start` events emitted multiple times with content chunks\n- `edit.end` event emitted once after streaming completes with `duration_ms`\n- `fs.write` events are streamed (single source of truth for code)\n- Terminal events (`stream.complete`, `stream.failed`) properly emitted\n- SSE format: `data: {json}\\n\\n`\n\n**Note on Postman:**\nPostman buffers SSE events and may display them all at once. Check terminal logs for real-time event emission confirmation. For real-time streaming, use a browser EventSource or curl with --no-buffer.\n\n**Verbose Logging:**\nCheck terminal for detailed logs showing:\n- Request received with full payload\n- Step-by-step validation\n- Response processing with prompt building\n- Session storage operations\n- System prompt construction\n- LLM streaming progress\n- Final session state"
					},
					"response": []
				},
				{
					"name": "Post Message - Open-ended Question Example",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"project_id\": \"0ba08159-038b-44ea-b7d4-299e0644ba39\",\n  \"chat_id\": \"801c8dd2-f762-4314-918c-c0a226ff9a29\",\n  \"responses\": [\n    {\n      \"q_id\": \"q_e5f6\",\n      \"q_type\": \"open_ended\",\n      \"content\": {\n        \"label\": \"What is your project name?\",\n        \"answer\": \"My Todo App\"\n      },\n      \"skipped\": false\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream/message/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream",
								"message",
								""
							]
						},
						"description": "Example: Single open_ended question (NOT skipped).\n\n**Key Points:**\n- q_id uses 4-digit UUID format (q_e5f6)\n- No `user_input` field - ChatInput text goes to `responses[0].content.answer`\n- Response is converted to prompt: \"What is your project name?: My Todo App\"\n- **Automatically streams LLM response** with SSE events\n\n**Response:**\n- SSE stream with events: progress.init, thinking.start/end, edit.start (LLM chunks, multiple), edit.end (with duration), fs.write (files), stream.complete\n\n**Terminal Output:**\nYou'll see verbose logs showing:\n- Response processing\n- Prompt building: \"What is your project name?: My Todo App\"\n- System prompt construction\n- LLM streaming progress"
					},
					"response": []
				},
				{
					"name": "Post Message - Open-ended Question Skipped",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"project_id\": \"0ba08159-038b-44ea-b7d4-299e0644ba39\",\n  \"chat_id\": \"801c8dd2-f762-4314-918c-c0a226ff9a29\",\n  \"responses\": [\n    {\n      \"q_id\": \"q_e5f6\",\n      \"q_type\": \"open_ended\",\n      \"content\": {\n        \"label\": \"What is your project name?\",\n        \"answer\": \"\"\n      },\n      \"skipped\": true\n    }\n  ],\n  \"user_input\": \"Build a todo app with dark mode\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/api/v1/stream/message/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"stream",
								"message",
								""
							]
						},
						"description": "Example: Single open_ended question (SKIPPED).\n\n**Key Points:**\n- q_id uses 4-digit UUID format (q_e5f6)\n- Question is skipped (skipped: true, empty answer)\n- Since question was skipped, ChatInput text goes to `user_input` (user prompt)\n- Prompt stored: \"Build a todo app with dark mode\"\n- **Automatically streams LLM response** with SSE events\n\n**Response:**\n- SSE stream with events: progress.init, thinking.start/end, edit.start (LLM chunks, multiple), edit.end (with duration), fs.write (files), stream.complete\n\n**Terminal Output:**\nYou'll see verbose logs showing:\n- Skipped question detection\n- user_input processing\n- Prompt storage: \"Build a todo app with dark mode\"\n- System prompt construction\n- LLM streaming progress"
					},
					"response": []
				}
			]
		},
		{
			"name": "Utility Endpoints",
			"item": [
				{
					"name": "Get Page Types",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/page-types",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"page-types"
							]
						},
						"description": "Get all available page types/categories"
					},
					"response": []
				},
				{
					"name": "Get Questionnaire",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/questionnaire/ecommerce",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"questionnaire",
								"ecommerce"
							]
						},
						"description": "Get questionnaire for a specific page type. Replace 'ecommerce' with any page type key."
					},
					"response": []
				},
				{
					"name": "Get Latest Project",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/latest-project",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"latest-project"
							]
						},
						"description": "Get the latest generated project JSON"
					},
					"response": []
				},
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/v1/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"v1",
								"health"
							]
						},
						"description": "Health check endpoint to verify API is running"
					},
					"response": []
				},
				{
					"name": "API Root",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								""
							]
						},
						"description": "Get API information and available endpoints"
					},
					"response": []
				}
			],
			"description": "Utility endpoints for page types, questionnaires, and project retrieval"
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string",
			"description": "Base URL for the API server"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}